{% extends "layout.twig" %}
{% block content %}
<div class="container-fluid" ng-app='msiofApp' ng-controller='HomeCtrl' ng-init='apiKey="{{apiKey}}";'>
		  <div ng-show="showInstallInstructions" class='jumbotron'>
					 <h1>Install as root: </h1>
					 <p>curl -s {{ url('install-script', {'apiKey': apiKey}) }} | bash</p>

					 <button ng-click="showInstallInstructions = false" class='btn btn-primary'>Close install instructions</button>
					 <a href='/install'>View Install Source</a>
		  </div>

		  <h5>
					 Servers: {[{servers.length}]} &bull; 
					 Sort By:
					 <div class="btn-group">
								<label class='btn btn-success btn-xs' ng-click="setSort(sort.value)" ng-repeat="sort in sortOptions" ng-model="sortBy" btn-radio="sort.value">
										  {[{ sort.display }]}
								</label>
					 </div>
					 <button ng-click="expandAll = (!expandAll)" class='btn btn-default btn-xs'>Toggle Expansion</button>
					 <input ng-model='filter' type='text' placeholder='Filter...'>
					 <button ng-click="showInstallInstructions = (!showInstallInstructions)" class='pull-right btn btn-success btn-xs'><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add new server</button>
		  </h5>

		  <div ng-hide='loaded' class="alert alert-info" role="alert">Loading server fires...</div>

		  <div class='col-sm-6 col-md-3 col-lg-2' ng-repeat="server in servers | orderBy:sortBy | filter:filter">
			  {% include "server.twig" %}
		  </div>
</div>
{% endblock %}
